<!--Main Toolbar-->
<div class="app-top-bar" fxLayout="row" fxLayoutAlign="center">
  <div class="zf-container">

    <!-- For anything bigger than a tablet we spread out the main choices -->
    <div fxHide.lt-md>
      <mat-toolbar *ngIf="appState.loggedIn$ | async" fxLayoutGap="10px">
        <span>Zebrafish Facility Manager for {{appState.getState('facilityName')}}</span>
        <span class="fill-remaining-space"></span>
        <button mat-button [disabled]="appState.activeTool === zfTool.STOCK_MANAGER"
                [routerLink]="zfTool.STOCK_MANAGER.route" color="primary">
          {{zfTool.STOCK_MANAGER.display_name}}
        </button>
        <button mat-button [disabled]="appState.activeTool === zfTool.MUTATION_MANAGER"
                [routerLink]="zfTool.MUTATION_MANAGER.route" color="primary">
          {{zfTool.MUTATION_MANAGER.display_name}}
        </button>
        <button mat-button [disabled]="appState.activeTool === zfTool.TRANSGENE_MANAGER"
                [routerLink]="zfTool.TRANSGENE_MANAGER.route" color="primary">
          {{zfTool.TRANSGENE_MANAGER.display_name}}
        </button>
        <button mat-button zfmHideUnauthorized="admin" [disabled]="appState.activeTool === zfTool.USER_MANAGER"
                [routerLink]="zfTool.USER_MANAGER.route" color="primary">
          {{zfTool.USER_MANAGER.display_name}}
        </button>
        <button mat-button (click)="logout()"
                [matTooltip]="appState.getLoggedInUserName()">
          Logout
        </button>
      </mat-toolbar>
      <mat-toolbar *ngIf="!(appState.loggedIn$ | async)">
        <span>Zebrafish Facility Manager for {{appState.getState('facilityName')}}</span>
        <span class="fill-remaining-space"></span>
        <button mat-button (click)="login()">Login</button>
      </mat-toolbar>
    </div>

    <!-- For small screens, we abbreviate what we can and put the main options in a menu -->
    <div fxHide.gt-sm>
      <mat-toolbar *ngIf="appState.loggedIn$ | async" fxLayoutGap="10px">
        <span>ZFM for {{appState.getState('facilityAbbrv')}}</span>
        <span class="fill-remaining-space"></span>
        <button mat-button [matMenuTriggerFor]="toolMenu" color="primary">
          <mat-icon>more_vert</mat-icon>
          {{appState.activeTool.display_name}}
        </button>
        <mat-menu #toolMenu="matMenu">
          <button mat-menu-item [disabled]="appState.activeTool === zfTool.STOCK_MANAGER"
                  [routerLink]="zfTool.STOCK_MANAGER.route" color="primary">
            {{zfTool.STOCK_MANAGER.display_name}}
          </button>
          <button mat-menu-item [disabled]="appState.activeTool === zfTool.MUTATION_MANAGER"
                  [routerLink]="zfTool.MUTATION_MANAGER.route" color="primary">
            {{zfTool.MUTATION_MANAGER.display_name}}
          </button>
          <button mat-menu-item [disabled]="appState.activeTool === zfTool.TRANSGENE_MANAGER"
                  [routerLink]="zfTool.TRANSGENE_MANAGER.route" color="primary">
            {{zfTool.TRANSGENE_MANAGER.display_name}}
          </button>
          <button mat-menu-item zfmHideUnauthorized="admin" [disabled]="appState.activeTool === zfTool.USER_MANAGER"
                  [routerLink]="zfTool.USER_MANAGER.route" color="primary">
            {{zfTool.USER_MANAGER.display_name}}
          </button>
        </mat-menu>
        <button mat-button (click)="logout()"
                [matTooltip]="appState.getLoggedInUserName()">
          Logout
        </button>
      </mat-toolbar>
      <mat-toolbar *ngIf="!(appState.loggedIn$ | async)">
        <span>Facility Manager for {{appState.getState('facilityAbbrv')}}</span>
        <span class="fill-remaining-space"></span>
        <button mat-button (click)="login()">Login</button>
      </mat-toolbar>
    </div>
  </div>
</div>
